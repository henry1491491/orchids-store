(function(t){function e(e){for(var a,o,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],a=!0,i=1;i<r.length;i++){var c=r[i];0!==s[c]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},s={app:0},n=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"2c8a":function(t,e,r){},"4bb4":function(t,e,r){"use strict";var a=r("2c8a"),s=r.n(a);s.a},"56d7":function(t,e,r){"use strict";r.r(e);r("4de4"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},n=[],o=(r("5c0b"),r("2877")),i={},c=Object(o["a"])(i,s,n,!1,null,null,null),l=c.exports,u=r("8c4f"),d=r("bc3a"),p=r.n(d),m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"views-thelogin"}},[r("b-card",{attrs:{title:"請登入"}},[r("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var a=e.passes;return[t.show?r("b-form",{on:{submit:function(e){return e.preventDefault(),a(t.signIn)}}},[r("validation-provider",{attrs:{name:"信箱",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-form-group",{attrs:{id:"input-group-1","label-for":"input-1"}},[r("b-form-input",{attrs:{id:"input-1",state:t.getValidationState(e),placeholder:"請輸入帳號",required:""},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}}),r("b-form-invalid-feedback",{attrs:{id:"input-1-live-feedback"}},[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)}),r("validation-provider",{attrs:{name:"密碼",rules:"required|min:6|max:12"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-form-group",{attrs:{id:"input-group-2","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"input-2",state:t.getValidationState(e),placeholder:"請輸入密碼",required:"",type:"password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),r("b-form-invalid-feedback",{attrs:{id:"input-1-live-feedback"}},[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)}),r("b-button",{attrs:{size:"sm",type:"submit",variant:"primary"},on:{click:t.signIn}},[t._v(" 提交 ")])],1):t._e()]}}])})],1)],1)},f=[],h=(r("99af"),r("d3b7"),r("a7fe")),b=r.n(h),v=r("2f62"),g=(r("a630"),r("d81d"),r("a434"),r("6062"),r("3ca3"),r("ddb0"),r("96cf"),r("1da1")),_={namespaced:!0,state:{carts:[],cartsTotal:{},categories:[],filterProducts:[],order:{},priceZone:[],productsAll:[],sortTitle:"全部",status:{loadingItem:""}},mutations:{SET_CARTS:function(t,e){t.carts=e},SET_CARTS_TOTAL:function(t,e){t.cartsTotal=e},SET_CATEGORIES:function(t){if(t.productsAll){var e=Array.from(new Set(t.productsAll.map((function(t){return t.category}))));e.splice(0,0,"全部"),t.categories=e}},SET_FILTER_PRODUCTS:function(t){t.filterProducts=t.productsAll},SET_FILTER_PRODUCTS_BY_SORT:function(t,e){"hign"===e?t.filterProducts.sort((function(t,e){return e.price-t.price})):"low"===e&&t.filterProducts.sort((function(t,e){return t.price-e.price}))},SET_PRODUCTS_ALL:function(t,e){t.productsAll=e},SET_SORT_TITLE:function(t,e){t.sortTitle=e},SET_STATUS_LOADINGITEM:function(t,e){t.status.loadingItem=e},SET_ORDER:function(t,e){t.order=e},UPDATE_FILTER_PRODUCTS:function(t,e){t.filterProducts=e}},actions:{addToCart:function(t,e){var r=t.commit,a=t.dispatch;r("SET_STATUS_LOADINGITEM",e.id);var s={product_id:e.id,qty:e.qty};F({data:s}).then((function(){r("SET_STATUS_LOADINGITEM",""),a("getCart")}))},getCart:function(t){var e=t.commit;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z();case 3:if(r=t.sent,r.data.success){t.next=6;break}return t.abrupt("return");case 6:return e("SET_CARTS",r.data.data.carts),e("SET_CARTS_TOTAL",{total:r.data.data.total,final_total:r.data.data.final_total}),t.abrupt("return",{status:"success"});case 11:return t.prev=11,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",{status:"false"});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},getProductsAll:function(t){var e=t.dispatch;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,U();case 2:if(r=t.sent,r.data.success){t.next=5;break}return t.abrupt("return");case 5:e("initialize",r.data.products);case 6:case"end":return t.stop()}}),t)})))()},initialize:function(t,e){var r=t.commit;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r("SET_PRODUCTS_ALL",e),r("SET_FILTER_PRODUCTS",e),r("SET_CATEGORIES");case 3:case"end":return t.stop()}}),t)})))()}}};a["default"].use(v["a"]);var C=new v["a"].Store({strict:!0,state:{loadingAmount:0,messages:[]},mutations:{SET_LOADING:function(t,e){e?++t.loadingAmount:--t.loadingAmount}},actions:{setLoading:function(t,e){var r=t.commit;r("SET_LOADING",e)}},modules:{customer:_}});a["default"].use(b.a,p.a),p.a.defaults.baseURL="".concat("https://vue-course-api.hexschool.io","/api/").concat("henli"),p.a.defaults.withCredentials=!0;var x=p.a.create({baseURL:"".concat("https://vue-course-api.hexschool.io")}),w=p.a.create({baseURL:"".concat("https://vue-course-api.hexschool.io","/api/").concat("henli")}),k=p.a.create({baseURL:"".concat("https://vue-course-api.hexschool.io","/api/").concat("henli")}),y=function(t){return x.post("/admin/signin",t)},T=function(){return x.post("/logout")},$=function(t,e){return w.post("/admin/upload",t,e)},S=function(t){return w.get("/admin/products?page=".concat(t))},O=function(t){return w.delete("/admin/product/".concat(t.id))},P=function(t){return w.get("/admin/orders?page=".concat(t))},E=function(t){return w.get("/admin/coupons?page=".concat(t))},A=function(t){return w.delete("/admin/coupon/".concat(t.id))},R=function(t){return w.get("/order/".concat(t))},L=function(t){return w.post("/pay/".concat(t))},j=function(t){return k.get("/product/".concat(t))},D=function(t){return k.delete("/cart/".concat(t))},N=function(t){return w.post("/coupon",t)},I=function(t){return w.post("/order",t)},z=function(){return k.get("/cart")},F=function(t){return k.post("/cart",t)},U=function(){return w.get("/products/all")};w.interceptors.request.use((function(t){return C.dispatch("setLoading",!0),t}),(function(t){return Promise.reject(t)})),w.interceptors.response.use((function(t){return C.dispatch("setLoading",!1),t}),(function(t){return C.dispatch("setLoading",!1),Promise.reject(t)}));var q={data:function(){return{form:{email:"",name:"",food:null,checked:[]},show:!0,user:{username:"",password:""}}},methods:{getValidationState:function(t){var e=t.dirty,r=t.validated,a=t.valid,s=void 0===a?null:a;return e||r?s:null},signIn:function(){var t=this;y(this.user).then((function(e){e.data.success&&t.$router.push("/admin/products")}))}}},B=q,H=Object(o["a"])(B,m,f,!1,null,null,null),M=H.exports,G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"views-thedashboard"}},[r("nav",{staticClass:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},[r("a",{staticClass:"navbar-brand col-sm-3 col-md-2 mr-0",attrs:{href:"#"}},[t._v(" Orchids 蘭園管理後台 ")]),r("input",{staticClass:"form-control form-control-dark w-100",attrs:{type:"text",placeholder:"Search","aria-label":"Search"}}),r("ul",{staticClass:"navbar-nav px-3"},[r("li",{staticClass:"nav-item text-nowrap"},[r("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.signOut(e)}}},[t._v(" 登出 ")])])])]),r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row"},[r("nav",{staticClass:"col-md-2 d-none d-md-block bg-light sidebar"},[r("div",{staticClass:"sidebar-sticky"},[t._m(0),r("ul",{staticClass:"nav flex-column"},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link d-flex align-items-center",attrs:{to:"/admin/products"}},[r("flower-icon",{staticClass:"mr-1"}),r("span",[t._v("產品列表")])],1)],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link d-flex align-items-center",attrs:{to:"/admin/orders"}},[r("flower-icon",{staticClass:"mr-1"}),r("span",[t._v("訂單列表")])],1)],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link d-flex align-items-center",attrs:{to:"/admin/coupons"}},[r("flower-icon",{staticClass:"mr-1"}),r("span",[t._v("優惠券")])],1)],1)]),t._m(1),r("ul",{staticClass:"nav flex-column mb-2"},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link d-flex align-items-center",attrs:{to:"/"}},[r("clipboard-list-outline-icon",{staticClass:"mr-1"}),r("span",[t._v("模擬訂單")])],1)],1)])])]),r("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 px-4",attrs:{role:"main"}},[r("router-view")],1)])])])},V=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[r("span",[t._v("管理員")]),r("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#","aria-label":"Add a new report"}},[r("span",{attrs:{"data-feather":"plus-circle"}})])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[r("span",[t._v("模擬功能")]),r("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#","aria-label":"Add a new report"}},[r("span",{attrs:{"data-feather":"plus-circle"}})])])}],Y={name:"TheDashboard",data:function(){return{fullPage:!0}},methods:{signOut:function(){var t=this;T().then((function(e){e.data.success&&t.$router.push("/login")}))}}},J=Y,Q=Object(o["a"])(J,G,V,!1,null,null,null),W=Q.exports,Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{attrs:{fluid:"",id:"views-thedashboard_products"}},[r("b-button",{staticClass:"m-3 float-right",attrs:{id:"show-edit-product"},on:{click:function(e){return t.showEditProduct(!0)}}},[t._v(" 建立商品 ")]),r("b-modal",{ref:"edit-product-modal",attrs:{size:"lg",title:"新增 / 編輯商品"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[r("div",{staticClass:"w-100"},[r("b-button",{staticClass:"float-right",attrs:{size:"md",variant:"primary"},on:{click:t.updateProduct}},[t._v(" 確認 ")]),r("b-button",{staticClass:"mr-1 float-right",attrs:{size:"md",variant:"danger"},on:{click:t.cancerEditProduct}},[t._v(" 取消 ")])],1)]},proxy:!0}])},[r("b-row",[r("b-col",{attrs:{cols:"3"}},[r("b-form-group",{attrs:{id:"input-group-1",label:"輸入圖片網址","label-for":"input-1"}},[r("b-form-input",{attrs:{id:"input-1",placeholder:"請輸入圖片連結",size:"sm",type:"text"},model:{value:t.tempProduct.imageUrl,callback:function(e){t.$set(t.tempProduct,"imageUrl",e)},expression:"tempProduct.imageUrl"}})],1),r("b-form-file",{ref:"file-input",staticClass:"mt-3",attrs:{plain:""},on:{change:t.uploadFile},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),r("b-img",{staticClass:"mt-1",attrs:{src:t.tempProduct.imageUrl,alt:t.tempProduct.title,fluid:"",thumbnail:""}})],1),r("b-col",{attrs:{cols:"9"}},[r("b-form-group",{attrs:{id:"input-group-2",label:"標題","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"input-2",placeholder:"請輸入標題",size:"sm",type:"text"},model:{value:t.tempProduct.title,callback:function(e){t.$set(t.tempProduct,"title",e)},expression:"tempProduct.title"}})],1),r("b-row",[r("b-col",[r("b-form-group",{attrs:{id:"input-group-3",label:"分類","label-for":"input-3"}},[r("b-form-input",{attrs:{id:"input-3",placeholder:"請輸入分類",size:"sm",type:"text"},model:{value:t.tempProduct.category,callback:function(e){t.$set(t.tempProduct,"category",e)},expression:"tempProduct.category"}})],1)],1),r("b-col",[r("b-form-group",{attrs:{id:"input-group-4",label:"單位","label-for":"input-4"}},[r("b-form-input",{attrs:{id:"input-4",placeholder:"請輸入單位",size:"sm",type:"text"},model:{value:t.tempProduct.unit,callback:function(e){t.$set(t.tempProduct,"unit",e)},expression:"tempProduct.unit"}})],1)],1)],1),r("b-row",[r("b-col",[r("b-form-group",{attrs:{id:"input-group-5",label:"原價","label-for":"input-5"}},[r("b-form-input",{attrs:{id:"input-5",placeholder:"請輸入原價",size:"sm",type:"number"},model:{value:t.tempProduct.origin_price,callback:function(e){t.$set(t.tempProduct,"origin_price",e)},expression:"tempProduct.origin_price"}})],1)],1),r("b-col",[r("b-form-group",{attrs:{id:"input-group-6",label:"售價","label-for":"input-6"}},[r("b-form-input",{attrs:{id:"input-6",placeholder:"請輸入售價",size:"sm",type:"number"},model:{value:t.tempProduct.price,callback:function(e){t.$set(t.tempProduct,"price",e)},expression:"tempProduct.price"}})],1)],1)],1),r("b-form-group",{staticClass:"b-form-group-textarea",attrs:{label:"商品描述"}},[r("b-form-textarea",{attrs:{id:"textarea1",placeholder:"請輸入商品描述",rows:"2",size:"sm"},model:{value:t.tempProduct.description,callback:function(e){t.$set(t.tempProduct,"description",e)},expression:"tempProduct.description"}})],1),r("b-form-group",{attrs:{label:"說明內容"}},[r("b-form-textarea",{attrs:{id:"textarea2",placeholder:"請輸入說明內容",rows:"2",size:"sm"},model:{value:t.tempProduct.content,callback:function(e){t.$set(t.tempProduct,"content",e)},expression:"tempProduct.content"}})],1),r("b-form-checkbox",{attrs:{id:"checkbox-1",name:"checkbox-1","unchecked-value":"0",value:"1"},model:{value:t.tempProduct.is_enabled,callback:function(e){t.$set(t.tempProduct,"is_enabled",e)},expression:"tempProduct.is_enabled"}},[t._v(" 是否啟用？ ")])],1)],1)],1),t.isLoading?t._e():r("b-table",{attrs:{items:t.products,fields:t.fields,responsive:"",small:"",stacked:"md",striped:""},scopedSlots:t._u([{key:"cell(origin_price)",fn:function(e){return[t._v(" "+t._s(t._f("currency")(e.item.origin_price))+" ")]}},{key:"cell(price)",fn:function(e){return[t._v(" "+t._s(t._f("currency")(e.item.price))+" ")]}},{key:"cell(is_enabled)",fn:function(e){return[r("p",{directives:[{name:"show",rawName:"v-show",value:e.item.is_enabled,expression:"data.item.is_enabled"}],staticClass:"text-success"},[t._v(" 是 ")]),r("p",{directives:[{name:"show",rawName:"v-show",value:!e.item.is_enabled,expression:"!data.item.is_enabled"}],staticClass:"text-danger"},[t._v(" 否 ")])]}},{key:"cell(actions)",fn:function(e){return[r("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(r){return t.showEditProduct(!1,e.item)}}},[t._v(" 編輯 ")]),r("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(r){return t.deleteProduct(e.item)}}},[t._v(" 刪除 ")])]}}],null,!1,647427825)}),r("b-pagination-default",{attrs:{pagination:t.pagination},on:{paginate:t.getProducts}})],1)},K=[],X={name:"TheDashboardProducts",data:function(){return{file:null,fields:[{key:"category",label:"分類"},{key:"title",label:"名稱"},{key:"origin_price",label:"原價"},{key:"price",label:"售價"},{key:"is_enabled",label:"是否啟用"},{key:"actions",label:"編輯"}],isNew:!1,pagination:{},products:[],tempProduct:{title:"",category:"",origin_price:null,price:null,unit:"",image:"",description:"",content:"",is_enabled:1,imageUrl:""}}},computed:{loadingAmount:function(){return this.$store.state.loadingAmount},isLoading:function(){return this.loadingAmount>0}},mounted:function(){this.getProducts()},methods:{showEditProduct:function(t,e){t?(this.tempProduct={},this.isNew=!0):(this.tempProduct=Object.assign({},e),this.isNew=!1),this.$refs["edit-product-modal"].show()},cancerEditProduct:function(){this.$refs["edit-product-modal"].hide()},deleteProduct:function(t){var e=this;O(t).then((function(t){e.getProducts()}))},updateProduct:function(){var t=this,e="/admin/product",r="post";this.isNew||(e="/admin/product/".concat(this.tempProduct.id),r="put"),this.axios[r](e,{data:this.tempProduct}).then((function(e){e.data.success?(t.$refs["edit-product-modal"].hide(),t.getProducts(t.pagination.current_page)):(t.$refs["edit-product-modal"].hide(),t.getProducts(t.pagination.current_page),console.log("新增失敗"))}))},uploadFile:function(){var t=this,e=this.$refs["file-input"].$refs.input.files[0],r=new FormData;r.append("file-to-upload",e),$(r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){e.data.success&&t.$set(t.tempProduct,"imageUrl",e.data.imageUrl)}))},getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;S(e).then((function(e){t.products=e.data.products,t.pagination=e.data.pagination}))}}},tt=X,et=Object(o["a"])(tt,Z,K,!1,null,null,null),rt=et.exports,at=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{attrs:{id:"views-thedashboard_orders",fluid:""}},[r("b-modal",{ref:"edit-order-modal",attrs:{size:"lg",title:"BootstrapVue"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[r("div",{staticClass:"w-100"},[r("b-button",{staticClass:"float-right",attrs:{size:"md",variant:"primary"},on:{click:t.updateOrder}},[t._v(" 確認 ")]),r("b-button",{staticClass:"mr-1 float-right",attrs:{size:"md",variant:"danger"},on:{click:t.cancerEditOrder}},[t._v(" 取消 ")])],1)]},proxy:!0}])},[r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"2"}},[r("label",{attrs:{for:"input-small"}},[t._v(" 顧客信箱 ")])]),r("b-col",{attrs:{sm:"10"}},[r("b-form-input",{attrs:{id:"email",placeholder:"修改顧客信箱",size:"sm"},model:{value:t.tempOrder.user.email,callback:function(e){t.$set(t.tempOrder.user,"email",e)},expression:"tempOrder.user.email"}})],1)],1),r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"2"}},[r("label",{attrs:{for:"input-small"}},[t._v(" 顧客住址 ")])]),r("b-col",{attrs:{sm:"10"}},[r("b-form-input",{attrs:{id:"address",placeholder:"修改顧客住址",size:"sm"},model:{value:t.tempOrder.user.address,callback:function(e){t.$set(t.tempOrder.user,"address",e)},expression:"tempOrder.user.address"}})],1)],1),r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"2"}},[r("label",{attrs:{for:"input-small"}},[t._v(" 顧客姓名 ")])]),r("b-col",{attrs:{sm:"10"}},[r("b-form-input",{attrs:{id:"name",placeholder:"修改顧客姓名",size:"sm"},model:{value:t.tempOrder.user.name,callback:function(e){t.$set(t.tempOrder.user,"name",e)},expression:"tempOrder.user.name"}})],1)],1),r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"2"}},[r("label",{attrs:{for:"input-small"}},[t._v(" 顧客電話 ")])]),r("b-col",{attrs:{sm:"10"}},[r("b-form-input",{attrs:{id:"tel",placeholder:"修改顧客電話",size:"sm"},model:{value:t.tempOrder.user.tel,callback:function(e){t.$set(t.tempOrder.user,"tel",e)},expression:"tempOrder.user.tel"}})],1)],1),r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"2"}},[r("label",{attrs:{for:"input-small"}},[t._v(" 應付金額 ")])]),r("b-col",{attrs:{sm:"10"}},[r("b-form-input",{attrs:{id:"total",placeholder:"修改應付金額",size:"sm"},model:{value:t.tempOrder.total,callback:function(e){t.$set(t.tempOrder,"total",e)},expression:"tempOrder.total"}})],1)],1),r("b-form-checkbox",{attrs:{id:"checkbox-1",name:"checkbox-1","unchecked-value":"false",value:"true"},model:{value:t.tempOrder.is_paid,callback:function(e){t.$set(t.tempOrder,"is_paid",e)},expression:"tempOrder.is_paid"}},[t._v(" 是否付款 ")])],1),t.isLoading?t._e():r("b-table",{attrs:{items:t.orders,fields:t.fields,responsive:"",small:"",striped:"",stacked:"md"},scopedSlots:t._u([{key:"cell(create_at)",fn:function(e){return[t._v(" "+t._s(t._f("moment")(e.item.create_at,"YYYY年M月D日 HH:mm:ss"))+" ")]}},{key:"cell(user)",fn:function(e){return[t._v(" "+t._s(e.item.user.email)+" ")]}},{key:"cell(products)",fn:function(e){return t._l(e.item.products,(function(e,a){return r("p",{key:a},[t._v(" "+t._s(e.product.title)+" 數量："+t._s(e.qty)+" "+t._s(e.product.unit)+" ")])}))}},{key:"cell(total)",fn:function(e){return[t._v(" "+t._s(t._f("currency")(e.item.total))+" ")]}},{key:"cell(paid_date)",fn:function(e){return[t._v(" "+t._s(t._f("moment")(e.item.paid_date,"YYYY年M月D日 HH:mm:ss"))+" ")]}},{key:"cell(is_paid)",fn:function(e){return[r("p",{directives:[{name:"show",rawName:"v-show",value:e.item.is_paid,expression:"data.item.is_paid"}],staticClass:"text-success"},[t._v(" 已付款 ")]),r("p",{directives:[{name:"show",rawName:"v-show",value:!e.item.is_paid,expression:"!data.item.is_paid"}],staticClass:"text-danger"},[t._v(" 尚未付款 ")])]}},{key:"cell(actions)",fn:function(e){return[r("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(r){return t.showEditOrder(!1,e.item)}}},[t._v(" 編輯 ")])]}}],null,!1,3245883790)}),r("b-pagination-default",{attrs:{pagination:t.pagination},on:{paginate:t.getOrders}})],1)},st=[],nt={name:"TheDashboardOrders",data:function(){return{fields:[{key:"create_at",label:"購買時間"},{key:"user",label:"顧客資訊"},{key:"products",label:"購買款項"},{key:"total",label:"應付金額"},{key:"paid_date",label:"付款日期"},{key:"is_paid",label:"是否付款"},{key:"actions",label:"編輯"}],isNew:!1,orders:[],pagination:{},tempOrder:{create_at:null,is_paid:!1,message:"",payment_method:"",products:[],total:null,user:{}}}},computed:{loadingAmount:function(){return this.$store.state.loadingAmount},isLoading:function(){return this.loadingAmount>0}},mounted:function(){this.getOrders()},methods:{showEditOrder:function(t,e){t?(this.tempOrder={},this.isNew=!0):(this.tempOrder=Object.assign({},e),this.isNew=!1),this.$refs["edit-order-modal"].show()},cancerEditOrder:function(){this.$refs["edit-order-modal"].hide()},getOrders:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,P(e).then((function(e){t.loading=!1,t.orders=e.data.orders,t.pagination=e.data.pagination}))},updateOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("henli","/admin/order"),r="post";this.isNew||(e="".concat("https://vue-course-api.hexschool.io","/api/").concat("henli","/admin/product/").concat(this.tempOrder.id),r="put"),this.axios[r](e,{data:this.tempOrder}).then((function(e){e.data.success?(t.$refs["edit-order-modal"].hide(),t.getOrders()):(t.$refs["edit-order-modal"].hide(),t.getOrders(),console.log("新增失敗"))}))}}},ot=nt,it=Object(o["a"])(ot,at,st,!1,null,null,null),ct=it.exports,lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{attrs:{id:"views-thedashboard_coupons",fluid:""}},[r("b-button",{staticClass:"m-3 float-right",attrs:{id:"show-edit-coupons"},on:{click:function(e){return t.showEditCoupon(!0)}}},[t._v(" 建立優惠券 ")]),r("b-modal",{ref:"edit-coupon-modal",attrs:{size:"lg",title:"BootstrapVue"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[r("div",{staticClass:"w-100"},[r("b-button",{staticClass:"float-right",attrs:{size:"md",variant:"primary"},on:{click:t.updateCoupon}},[t._v(" 確認 ")]),r("b-button",{staticClass:"mr-1 float-right",attrs:{size:"md",variant:"danger"},on:{click:t.cancerEditCoupon}},[t._v(" 取消 ")])],1)]},proxy:!0}])},[r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"2"}},[r("label",{attrs:{for:"input-coupon-title"}},[t._v("優惠券名稱")])]),r("b-col",{attrs:{sm:"10"}},[r("b-form-input",{attrs:{id:"input-coupon-title",placeholder:"輸入優惠券名稱",size:"sm"},model:{value:t.tempCoupon.title,callback:function(e){t.$set(t.tempCoupon,"title",e)},expression:"tempCoupon.title"}})],1)],1),r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"2"}},[r("label",{attrs:{for:"input-coupon-percent"}},[t._v("折扣百分比")])]),r("b-col",{attrs:{sm:"10"}},[r("b-form-input",{attrs:{id:"input-coupon-percent",placeholder:"輸入折扣百分比",size:"sm"},model:{value:t.tempCoupon.percent,callback:function(e){t.$set(t.tempCoupon,"percent",e)},expression:"tempCoupon.percent"}})],1)],1),r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"2"}},[r("label",{attrs:{for:"input-coupon-duedate"}},[t._v("到期日")])]),r("b-col",{attrs:{sm:"10"}},[r("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"input-coupon-duedate"},model:{value:t.tempCoupon.due_date,callback:function(e){t.$set(t.tempCoupon,"due_date",e)},expression:"tempCoupon.due_date"}})],1)],1),r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"2"}},[r("label",{attrs:{for:"input-coupon-code"}},[t._v("優惠碼")])]),r("b-col",{attrs:{sm:"10"}},[r("b-form-input",{attrs:{id:"input-coupon-code",placeholder:"輸入優惠碼",size:"sm"},model:{value:t.tempCoupon.code,callback:function(e){t.$set(t.tempCoupon,"code",e)},expression:"tempCoupon.code"}})],1)],1),r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"2"}},[r("label",{attrs:{for:"input-coupon-isenabled"}},[t._v("是否啟用")])]),r("b-col",{attrs:{sm:"10"}},[r("b-form-radio-group",{attrs:{id:"input-coupon-isenabled",options:t.isEnableOptions,name:"input-coupon-isenabled"},model:{value:t.tempCoupon.is_enabled,callback:function(e){t.$set(t.tempCoupon,"is_enabled",e)},expression:"tempCoupon.is_enabled"}})],1)],1)],1),t.isLoading?t._e():r("b-table",{attrs:{items:t.coupons,fields:t.fields,responsive:"",small:"",striped:"",stacked:"md"},scopedSlots:t._u([{key:"cell(is_enabled)",fn:function(e){return[r("p",{directives:[{name:"show",rawName:"v-show",value:e.item.is_enabled,expression:"data.item.is_enabled"}],staticClass:"text-success"},[t._v(" 是 ")]),r("p",{directives:[{name:"show",rawName:"v-show",value:!e.item.is_enabled,expression:"!data.item.is_enabled"}],staticClass:"text-danger"},[t._v(" 否 ")])]}},{key:"cell(actions)",fn:function(e){return[r("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(r){return t.showEditCoupon(!1,e.item)}}},[t._v(" 編輯 ")]),r("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(r){return t.deleteCoupon(e.item)}}},[t._v(" 刪除 ")])]}}],null,!1,1954699601)}),r("b-pagination-default",{attrs:{pagination:t.pagination},on:{paginate:t.getCoupons}})],1)},ut=[],dt={name:"TheDashboardCoupons",data:function(){return{coupons:[],fields:[{key:"title",label:"名稱"},{key:"percent",label:"折扣百分比"},{key:"due_date",label:"到期日"},{key:"is_enabled",label:"是否啟用"},{key:"actions",label:"編輯"}],file:null,isEnableOptions:[{text:"是",value:1},{text:"否",value:0}],isNew:!1,pagination:{},tempCoupon:{title:"",percent:null,due_date:null,is_enabled:1}}},computed:{loadingAmount:function(){return this.$store.state.loadingAmount},isLoading:function(){return this.loadingAmount>0}},mounted:function(){this.getCoupons()},methods:{showEditCoupon:function(t,e){t?(this.tempCoupon={},this.isNew=!0):(this.tempCoupon=Object.assign({},e),this.isNew=!1),this.$refs["edit-coupon-modal"].show()},cancerEditCoupon:function(){this.$refs["edit-coupon-modal"].hide()},deleteCoupon:function(t){var e=this;A(t).then((function(t){e.getCoupons()}))},updateCoupon:function(){var t=this,e="/admin/coupon",r="post";this.isNew||(e="/admin/coupon/".concat(this.tempCoupon.id),r="put"),this.axios[r](e,{data:this.tempCoupon}).then((function(e){e.data.success?(t.$refs["edit-coupon-modal"].hide(),t.getCoupons()):(t.$refs["edit-coupon-modal"].hide(),t.getCoupons(),console.log("新增失敗"))}))},getCoupons:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,E(e).then((function(e){t.loading=!1,t.coupons=e.data.coupons,t.pagination=e.data.pagination}))}}},pt=dt,mt=Object(o["a"])(pt,lt,ut,!1,null,null,null),ft=mt.exports,ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"views-thecustomer"},[r("b-container",[r("the-customer-navbar"),r("hr",{staticClass:"m-1"}),r("b-alert-default"),"/"===t.$route.path||"/favor"===t.$route.path?r("b-row",{staticClass:"mt-3"},[r("b-col",{attrs:{cols:"12",sm:"12",md:"2"}},[r("the-customer-sidebar")],1),r("b-col",{attrs:{cols:"12",sm:"12",md:"10"}},[r("b-row",t._l(12,(function(e,a){return r("b-col",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],key:a,attrs:{cols:"4",sm:"3",lg:"2"}},[r("v-skeleton-loader",{attrs:{"max-height":"300",type:"card,list-item"}})],1)})),1),r("router-view")],1)],1):r("div",[r("router-view")],1),r("hr"),r("the-customer-footer")],1)],1)},bt=[],vt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"views-thecustomer_navbar"}},[r("base-navbar",{directives:[{name:"show",rawName:"v-show",value:"/"===t.$route.path,expression:"$route.path === '/'"}],attrs:{navbarHref:"/",navbarTitle:"Orchids 蘭花購物網"}},[r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-dropdown",{attrs:{size:"sm",variant:"link","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[r("account-circle-outline",{staticClass:"text-secondary",attrs:{id:"account-circle-outline",href:"#"}}),r("b-tooltip",{attrs:{target:"account-circle-outline",variant:"secondary"}},[t._v(" 管理員 ")])]},proxy:!0}])},[r("router-link",{attrs:{tag:"b-dropdown-item",to:"/admin/products"}},[t._v(" 產品列表 ")]),r("router-link",{attrs:{tag:"b-dropdown-item",to:"/admin/orders"}},[t._v(" 訂單列表 ")]),r("router-link",{attrs:{tag:"b-dropdown-item",to:"/admin/coopons"}},[t._v(" 優惠券 ")])],1),r("b-nav-item",[r("heart-outline",{staticClass:"text-secondary",attrs:{id:"heart-outline",href:"#"},on:{click:t.goToContentFavor}}),r("b-tooltip",{attrs:{target:"heart-outline",variant:"secondary"}},[t._v(" 心願清單 ")])],1),r("b-nav-item",[r("ticket-percent",{staticClass:"text-secondary",attrs:{id:"ticket-percent"}}),r("b-tooltip",{attrs:{target:"ticket-percent",variant:"secondary"}},[t._v(" 優惠券 ")])],1),r("b-nav-item",{attrs:{id:"show-edit-product",href:"#"},on:{click:t.showCarts}},[r("cart-outline-icon",{staticClass:"text-secondary",attrs:{id:"cart-outline-icon"}}),r("b-tooltip",{attrs:{target:"cart-outline-icon",variant:"secondary"}},[t._v(" 購物車 ")]),t.cartsLength?r("b-badge",{attrs:{href:"#",variant:"danger"}},[t._v(" "+t._s(t.cartsLength)+" ")]):t._e()],1)],1)],1),r("b-modal",{ref:"show-cart-modal",attrs:{size:"xs",title:"購物車"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[r("div",{directives:[{name:"show",rawName:"v-show",value:t.carts.length,expression:"carts.length"}],staticClass:"w-100"},[r("span",{staticClass:"mr-2"},[t._v("總計："+t._s(t.cartsTotal.total))]),r("span",{staticClass:"text-success h5"},[t._v("折扣價："+t._s(t.cartsTotal.final_total))]),r("b-button",{staticClass:"float-right",attrs:{href:"/customer_carts",size:"sm",variant:"danger"}},[t._v(" 到購物車 ")])],1)]},proxy:!0}])},[r("b-card",[r("h5",{directives:[{name:"show",rawName:"v-show",value:!t.carts.length,expression:"!carts.length"}],staticClass:"text-center"},[t._v(" 你的購物車沒有東西呢 ")]),r("b-table-simple",{directives:[{name:"show",rawName:"v-show",value:t.carts.length,expression:"carts.length"}],attrs:{"caption-top":"",hover:"",outlined:"",responsive:"",small:""}},[r("b-thead",{attrs:{"head-variant":"light"}},[r("b-tr",[r("b-th",[r("span",{staticClass:"ml-2"},[t._v("品名")])]),r("b-th",[t._v("數量")]),r("b-th",{staticClass:"text-right",attrs:{colspan:"2"}},[r("span",{staticClass:"mr-2"},[t._v("單價")])])],1)],1),r("b-tbody",t._l(t.carts,(function(e){return r("b-tr",{key:e.id},[r("b-td",[r("b-button",{staticClass:"text-danger",attrs:{size:"sm",variant:"link"},on:{click:function(r){return t.removeCart(e.id)}}},[t.status.loadingItem===e.id?r("b-spinner",{attrs:{label:"Spinning",small:"",variant:"danger"}}):r("trash-can-outline")],1),t._v(" "+t._s(e.product.title)+" "),e.coupon?r("span",{staticClass:"m-0 text-success"},[t._v("(已套用優惠券)")]):t._e()],1),r("b-td",[t._v(t._s(e.qty)+" / "+t._s(e.product.unit))]),r("b-td",{staticClass:"text-right",attrs:{colspan:"2"}},[r("span",{staticClass:"mr-2"},[t._v(t._s(e.final_total))])])],1)})),1)],1)],1)],1)],1),r("base-navbar",{directives:[{name:"show",rawName:"v-show",value:"/favor"===t.$route.path,expression:"$route.path === '/favor'"}],attrs:{navbarHref:"/favor",navbarTitle:"心願清單"}},[r("b-button",{staticClass:"ml-auto text-secondary",attrs:{size:"sm",variant:"link"},on:{click:function(e){return t.$router.push("/customer_carts")}}},[t._v(" 購物車 ")]),r("b-button",{staticClass:"text-secondary",attrs:{size:"sm",variant:"link"},on:{click:function(e){return t.$router.push("/")}}},[t._v(" 回首頁 ")])],1),r("base-navbar",{directives:[{name:"show",rawName:"v-show",value:"/customer_carts"===t.$route.path||"/customer_carts_form"===t.$route.path||"TheCustomerCheckout"===t.$route.name,expression:"$route.path === '/customer_carts' || $route.path === '/customer_carts_form' || $route.name === 'TheCustomerCheckout'"}],attrs:{navbarHref:"/customer_carts",navbarTitle:"購物車"}},[r("base-stepper",{attrs:{stepsProps:t.steps}}),r("b-button",{staticClass:"ml-auto text-secondary",attrs:{size:"sm",variant:"link"},on:{click:function(e){return t.$router.push("/favor")}}},[t._v(" 心願清單 ")]),r("b-button",{staticClass:"text-secondary",attrs:{size:"sm",variant:"link"},on:{click:function(e){return t.$router.push("/")}}},[t._v(" 回首頁 ")])],1)],1)},gt=[],_t=(r("b0c0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{staticClass:"base-stepper d-flex justify-content-between align-items-center mx-3 "},[r("b-col",{staticClass:"ml-2 pr-1",attrs:{md:"auto"}},[!1===t.stepsProps[0].finished?r("numeric-1-circle"):r("check-circle",{staticClass:"text-primary"})],1),r("b-col",{staticClass:"text-left px-0",class:{"text-primary":t.stepsProps[0].finished},attrs:{md:"auto"}},[t._v(" "+t._s(t.stepsProps[0].text)+" ")]),r("b-col",[r("hr")]),r("b-col",{staticClass:"px-1",attrs:{md:"auto"}},[t.stepsProps[1].finished?r("check-circle",{staticClass:"text-primary"}):r("numeric-2-circle")],1),r("b-col",{staticClass:"text-left px-0",class:{"text-primary":t.stepsProps[1].finished},attrs:{md:"auto"}},[t._v(" "+t._s(t.stepsProps[1].text)+" ")]),r("b-col",[r("hr")]),r("b-col",{staticClass:"px-1",attrs:{md:"auto"}},[t.stepsProps[2].finished?r("check-circle",{staticClass:"text-primary"}):r("numeric-3-circle")],1),r("b-col",{staticClass:"text-left px-0",class:{"text-primary":t.stepsProps[2].finished},attrs:{md:"auto"}},[t._v(" "+t._s(t.stepsProps[2].text)+" ")])],1)}),Ct=[],xt={name:"BaseStepper",props:{stepsProps:{type:Array}}},wt=xt,kt=(r("4bb4"),Object(o["a"])(wt,_t,Ct,!1,null,null,null)),yt=kt.exports,Tt={name:"TheCustomerNavbar",components:{BaseStepper:yt},data:function(){return{stepsData:[{text:"購物車內容",finished:!1},{text:"訂購人資訊",finished:!1},{text:"確認付款",finished:!1}],cardfields:[{key:"action",label:""},{key:"title",label:"品名"},{key:"qty",label:"數量"},{key:"price",label:"單價"}]}},computed:{carts:function(){return this.$store.state.customer.carts},cartsLength:function(){return this.$store.state.customer.carts.length},cartsTotal:function(){return this.$store.state.customer.cartsTotal},isPaid:function(){return this.$store.state.customer.order.is_paid},status:{get:function(){return this.$store.state.customer.status},set:function(t){this.$store.commit("customer/SET_STATUS_LOADINGITEM",t)}},steps:function(){return"TheCustomerShoppingCartContent"===this.$route.name?this.stepsData.map((function(t){return t.finished=!1,t})):"TheCustomerShoppingCartForm"===this.$route.name?this.stepsData.map((function(t){return"購物車內容"===t.text?(t.finished=!0,t):t})):"TheCustomerCheckout"!==this.$route.name||this.isPaid?this.stepsData.map((function(t){return t.finished=!0,t})):this.stepsData.map((function(t){return"確認付款"!==t.text?(t.finished=!0,t):t}))}},mounted:function(){this.$store.dispatch("customer/getCart")},methods:{removeCart:function(t){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.$store.commit("customer/SET_STATUS_LOADINGITEM",t),r.next=3,D(t);case 3:if(a=r.sent,a.data.success){r.next=6;break}return r.abrupt("return");case 6:return r.next=8,e.$store.dispatch("customer/getCart");case 8:if(a=r.sent,a.status){r.next=11;break}return r.abrupt("return");case 11:e.$store.commit("customer/SET_STATUS_LOADINGITEM","");case 12:case"end":return r.stop()}}),r)})))()},showCarts:function(){this.$refs["show-cart-modal"].show()},goToContentFavor:function(){this.$router.push("/favor")}}},$t=Tt,St=Object(o["a"])($t,vt,gt,!1,null,null,null),Ot=St.exports,Pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-nav",{attrs:{align:"center"}},[r("b-nav-item",{attrs:{active:""}},[t._v("二月優惠")]),r("b-nav-item",[t._v("限時搶購")]),r("b-nav-item",[t._v("指定商品滿 1000 八折活動")]),r("b-nav-item",[t._v("春季限定")])],1)},Et=[],At={name:"TheCustomerNavbarTabs"},Rt=At,Lt=Object(o["a"])(Rt,Pt,Et,!1,null,null,null),jt=Lt.exports,Dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"views-thecustomer_sidebar"}},["/"===t.$route.path?r("base-sidebar",{attrs:{categories:t.categories,priceRadiosOptions:t.priceRadiosOptions,priceRadiosSelected:t.priceRadiosSelected,sortTitle:t.sortTitle},on:{"filter-handler":t.filterHandler,"remove-conditions":t.removeConditions}}):t._e()],1)},Nt=[],It={name:"TheCustomerSidebar",data:function(){return{conditions:{chooses:[],ranges:[]},priceRadiosOptions:[{text:"NT$300 以下",value:"1",low:0,high:300},{text:"NT$300-500",value:"2",low:300,high:500},{text:"NT$500-1000",value:"3",low:500,high:1e3},{text:"NT$1000-2000",value:"4",low:1e3,high:2e3},{text:"NT$2000-2500",value:"5",low:2e3,high:2500},{text:"NT$2500-5000",value:"6",low:2500,high:5e3},{text:"NT$5000 以上",value:"7",low:5e3,high:1e6}],priceRadiosSelected:""}},computed:{categories:function(){return this.$store.state.customer.categories},filterProducts:{get:function(){return this.$store.state.customer.filterProducts},set:function(t){this.$store.commit("customer/UPDATE_FILTER_PRODUCTS",t)}},productsAll:function(){return this.$store.state.customer.productsAll},sortTitle:function(){return this.$store.state.customer.sortTitle}},methods:{removeConditions:function(){this.conditions={},this.priceRadiosSelected="",this.$store.commit("customer/SET_SORT_TITLE","全部"),this.filteredData(this.productsAll)},filterHandler:function(t){"category"===t.type&&"全部"===t.value?(this.conditions.chooses=[],this.$store.commit("customer/SET_SORT_TITLE",t.value),this.filteredData(this.productsAll)):"category"===t.type&&"全部"!==t.value?(this.conditions.chooses=[],this.conditions.chooses.push(t),this.$store.commit("customer/SET_SORT_TITLE",t.value),this.filteredData(this.productsAll)):"price"===t.type&&(this.conditions.ranges=[],this.conditions.ranges.push(t),this.filteredData(this.productsAll))},filteredData:function(t){this.$store.commit("customer/UPDATE_FILTER_PRODUCTS",this.$productsFilter.handler(t,this.conditions))}}},zt=It,Ft=Object(o["a"])(zt,Dt,Nt,!1,null,null,null),Ut=Ft.exports,qt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"views-thecustomer_content"}},["/"===t.$route.path?r("div",{staticClass:"d-flex justify-content-between align-items-center"},[r("h4",{directives:[{name:"show",rawName:"v-show",value:"全部"===t.sortTitle,expression:"sortTitle === '全部'"}]},[t._v("全部")]),r("h4",{directives:[{name:"show",rawName:"v-show",value:"全部"!==t.sortTitle,expression:"sortTitle !== '全部'"}]},[t._v(" "+t._s(t.sortTitle)+" ")]),r("b-form-select",{staticClass:"sort-form",attrs:{options:t.sortOptions,size:"sm"},on:{change:function(e){return t.sortByPrice(t.sortSelected)}},model:{value:t.sortSelected,callback:function(e){t.sortSelected=e},expression:"sortSelected"}})],1):t._e(),"/"===t.$route.path?r("b-row",t._l(t.filterProducts,(function(e){return r("b-col",{key:e.id,staticClass:"p-0",attrs:{cols:"4",sm:"3",lg:"2"}},[r("base-card-products",{attrs:{favorList:t.favorList,item:e,status:t.status},on:{"add-to-cart":t.addToCart,"get-product":t.getProduct,"go-to-shopping-cart":t.goToShoppingCart,"set-favor-title":t.setFavorItem}})],1)})),1):"/favor"===t.$route.path?r("b-row",t._l(t.favorProducts,(function(e){return r("b-col",{key:e.id,staticClass:"p-0",attrs:{cols:"4",sm:"3",lg:"2"}},[r("base-card-products",{attrs:{favorList:t.favorList,item:e,status:t.status},on:{"add-to-cart":t.addToCart,"get-product":t.getProduct,"go-to-shopping-cart":t.goToShoppingCart,"set-favor-title":t.setFavorItem}})],1)})),1):t._e(),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.filterProducts.length&&"/"===t.$route.path,expression:"!filterProducts.length && $route.path === '/'"}]},[r("base-card-empty",{attrs:{cardText:"目前還沒有符合的商品喔!"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.favorProducts.length&&"/favor"===t.$route.path,expression:"!favorProducts.length && $route.path === '/favor'"}]},[r("base-card-empty",{attrs:{cardText:"心願清單沒有東西喔！"}})],1),r("b-modal",{ref:"show-product-modal",attrs:{title:t.product.title,size:"md"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[r("div",{staticClass:"w-100"},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.product.num,expression:"product.num"}],staticClass:"float-left"},[t._v(" 小記"+t._s(t.product.price*t.product.num)+"元 ")]),r("b-button",{staticClass:"float-right",attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.addToCart(t.product.id,t.product.num)}}},[t.status.loadingItem===t.product.id?r("b-spinner",{staticClass:"mr-1",attrs:{label:"Spinning",small:"",variant:"secondary"}}):t._e(),t._v(" 加到購物車 ")],1)],1)]},proxy:!0}])},[r("b-card",{staticClass:"card-img-top-modal",attrs:{"img-src":t.product.imageUrl,"img-alt":t.product.title,title:t.product.title,"img-height":"300px","img-top":""}},[r("b-card-text",[t._v(" "+t._s(t.product.description)+" ")]),r("b-card-text",[r("del",[t._v("原價"+t._s(t.product.origin_price)+"元")])]),r("b-card-text",[t._v(" 現在只要"+t._s(t.product.price)+"元 ")]),r("b-form-select",{staticClass:"mb-3",attrs:{options:t.cartAmountOptions},model:{value:t.product.num,callback:function(e){t.$set(t.product,"num",e)},expression:"product.num"}})],1)],1)],1)},Bt=[],Ht=(r("c740"),r("45fc"),{name:"TheCustomerContent",data:function(){return{cartAmountOptions:[{text:"請選擇數量",value:null},{text:"選購 1 件",value:1},{text:"選購 2 件",value:2},{text:"選購 3 件",value:3},{text:"選購 4 件",value:4},{text:"選購 5 件",value:5},{text:"選購 6 件",value:6},{text:"選購 7 件",value:7},{text:"選購 8 件",value:8},{text:"選購 9 件",value:9},{text:"選購 10 件",value:10}],favorList:[],product:{},sortSelected:null,sortOptions:[{value:null,text:"價格"},{value:"hign",text:"價格由高至低"},{value:"low",text:"價格由低至高"}]}},computed:{favorProducts:function(){var t=function(t,e){for(var r=[],a=function(a){var s=e.filter((function(e){return e.title===t[a]}));r=r.concat(s)},s=0;s<t.length;s++)a(s);return r};return t(this.favorList,this.productsAll)},filterProducts:{get:function(){return this.$store.state.customer.filterProducts},set:function(t){this.$store.commit("customer/UPDATE_FILTER_PRODUCTS",t)}},productsAll:function(){return this.$store.state.customer.productsAll},sortTitle:function(){return this.$store.state.customer.sortTitle},status:{get:function(){return this.$store.state.customer.status},set:function(t){this.$store.commit("customer/SET_STATUS_LOADINGITEM",t)}}},mounted:function(){this.getFavorTitleList()},methods:{addToCart:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$store.dispatch("customer/addToCart",{id:t,qty:1}),this.$refs["show-product-modal"].hide()},getFavorTitleList:function(){this.favorList=JSON.parse(localStorage.getItem("favorItem"))||[]},getProduct:function(t){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,j(t);case 2:if(a=r.sent,a.data.success){r.next=5;break}return r.abrupt("return");case 5:a.data.product.num=null,e.product=a.data.product,e.$refs["show-product-modal"].show();case 8:case"end":return r.stop()}}),r)})))()},goToShoppingCart:function(){this.$router.push("/customer_carts")},setFavorItem:function(t){var e=this,r=function(){localStorage.setItem("favorItem",JSON.stringify(e.favorList)),e.getFavorTitleList()},a=function(e){return e===t.title};if(0===this.favorList.length||!1===this.favorList.some(a))this.favorList.push(t.title),r();else{var s=this.favorList.findIndex(a);this.favorList.splice(s,1),r()}},sortByPrice:function(t){"hign"===t?this.$store.commit("customer/SET_FILTER_PRODUCTS_BY_SORT","hign"):"low"===t&&this.$store.commit("customer/SET_FILTER_PRODUCTS_BY_SORT","low")}}}),Mt=Ht,Gt=Object(o["a"])(Mt,qt,Bt,!1,null,null,null),Vt=Gt.exports,Yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{attrs:{id:"views-thecustomer_footer"}},[r("b-col",{staticClass:"d-flex justify-content-start align-items-center",attrs:{md:"5"}},[r("b-img",{staticClass:"mr-3 ",attrs:{alt:"orchids",height:"40px",src:"https://image.flaticon.com/icons/svg/898/898143.svg",width:"40px"}}),r("h5",{staticClass:"mb-0"},[t._v(" Orchids 蘭花購物網 ")])],1)],1)},Jt=[],Qt={},Wt=Object(o["a"])(Qt,Yt,Jt,!1,null,null,null),Zt=Wt.exports,Kt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"views-theshoppingcart_content"}},[t.carts.length?r("div",{staticClass:"mt-2"},[r("b-table-simple",{attrs:{"caption-top":"",hover:"",outlined:"",responsive:"",small:""}},[r("b-thead",{attrs:{"head-variant":"light"}},[r("b-tr",[r("b-th",[r("span",{staticClass:"ml-2"},[t._v("品名")])]),r("b-th",[t._v("數量")]),r("b-th",{staticClass:"text-right mr-3",attrs:{colspan:"2"}},[r("span",{staticClass:"mr-2"},[t._v("單價")])])],1)],1),r("b-tbody",t._l(t.carts,(function(e){return r("b-tr",{key:e.id},[r("b-td",[r("b-button",{staticClass:"text-danger",attrs:{size:"sm",variant:"link"},on:{click:function(r){return t.removeCart(e.id)}}},[t.status.loadingItem===e.id?r("b-spinner",{attrs:{label:"Spinning",small:"",variant:"danger"}}):r("trash-can-outline")],1),t._v(" "+t._s(e.product.title)+" "),e.coupon?r("span",{staticClass:"m-0 text-success"},[t._v("(已套用優惠券)")]):t._e()],1),r("b-td",[t._v(t._s(e.qty)+" / "+t._s(e.product.unit))]),r("b-td",{staticClass:"text-right mr-3",attrs:{colspan:"2"}},[r("span",{staticClass:"mr-2"},[t._v(t._s(e.final_total))])])],1)})),1)],1),r("b-card",[r("b-card-text",{staticClass:"text-right m-0 p-1"},[t._v(" 總計："+t._s(t.cartsTotal.total)+" ")]),r("b-card-text",{directives:[{name:"show",rawName:"v-show",value:t.cartsTotal.final_total!==t.cartsTotal.total,expression:"cartsTotal.final_total !== cartsTotal.total"}],staticClass:"card-text-price text-right text-success m-0 p-1"},[t._v(" 折扣價："+t._s(t.cartsTotal.final_total)+" ")]),r("b-input-group",[r("b-form-input",{attrs:{placeholder:"請輸入優惠碼",type:"text"},model:{value:t.coupon_code,callback:function(e){t.coupon_code=e},expression:"coupon_code"}}),r("b-input-group-append",[r("b-button",{attrs:{variant:"outline-secondary"},on:{click:t.addCouponCode}},[t._v(" 套用優惠碼 ")])],1)],1)],1),r("div",{staticClass:"d-flex justify-content-end"},[r("b-button",{staticClass:"mt-2",attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.$router.push("/customer_carts_form")}}},[t._v(" 下一步 ")])],1)],1):r("div",[r("b-card",[r("b-card-text",{staticClass:"text-center"},[t._v(" 購物車沒有東西喔！ ")])],1),r("div",{staticClass:"d-flex justify-content-end"},[r("b-button",{staticClass:"mt-2 mr-2",attrs:{size:"sm",variant:"primary"},on:{click:function(e){return t.$router.push("/")}}},[t._v(" 回首頁 ")]),r("b-button",{staticClass:"mt-2",attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.$router.push("/favor")}}},[t._v(" 心願清單 ")])],1)],1)])},Xt=[],te={name:"TheCustomerShoppingCartContent",data:function(){return{cardfields:[{key:"action",label:""},{key:"title",label:"品名"},{key:"qty",label:"數量"},{key:"price",label:"單價"}],coupon_code:""}},computed:{carts:function(){return this.$store.state.customer.carts},cartsTotal:function(){return this.$store.state.customer.cartsTotal},status:{get:function(){return this.$store.state.customer.status},set:function(t){this.$store.commit("customer/SET_STATUS_LOADINGITEM",t)}}},mounted:function(){this.$store.dispatch("customer/getCart")},methods:{removeCart:function(t){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.$store.commit("customer/SET_STATUS_LOADINGITEM",t),r.next=3,D(t);case 3:if(a=r.sent,a.data.success){r.next=6;break}return r.abrupt("return");case 6:return r.next=8,e.$store.dispatch("customer/getCart");case 8:if(a=r.sent,a.status){r.next=11;break}return r.abrupt("return");case 11:e.$store.commit("customer/SET_STATUS_LOADINGITEM","");case 12:case"end":return r.stop()}}),r)})))()},addCouponCode:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={code:t.coupon_code},e.next=3,N({data:r});case 3:if(a=e.sent,a.data.success){e.next=6;break}return e.abrupt("return");case 6:t.$store.dispatch("customer/getCart");case 7:case"end":return e.stop()}}),e)})))()}}},ee=te,re=Object(o["a"])(ee,Kt,Xt,!1,null,null,null),ae=re.exports,se=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"views-theshoppingcart_form"}},[r("h3",{staticClass:"my-4"},[t._v("填寫基本資料")]),r("b-card",{attrs:{"img-src":"https://images.unsplash.com/photo-1548872233-fa78ae35a3aa?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60","img-alt":"orchids-form","img-left":""}},[r("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var a=e.passes;return[t.show?r("b-form",{on:{submit:function(e){return e.preventDefault(),a(t.createOrder)}}},[r("validation-provider",{attrs:{name:"信箱",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-form-group",{attrs:{id:"input-email",label:"信箱","label-for":"input-email"}},[r("b-form-input",{attrs:{id:"input-email",state:t.getValidationState(e),placeholder:"請輸入信箱",required:""},model:{value:t.form.user.email,callback:function(e){t.$set(t.form.user,"email",e)},expression:"form.user.email"}}),r("b-form-invalid-feedback",{attrs:{id:"input-1-live-feedback"}},[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)}),r("validation-provider",{attrs:{name:"姓名",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-form-group",{attrs:{id:"input-name",label:"收件人姓名","label-for":"input-name"}},[r("b-form-input",{attrs:{id:"input-name",state:t.getValidationState(e),placeholder:"請輸入姓名",required:""},model:{value:t.form.user.name,callback:function(e){t.$set(t.form.user,"name",e)},expression:"form.user.name"}}),r("b-form-invalid-feedback",{attrs:{id:"input-1-live-feedback"}},[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)}),r("validation-provider",{attrs:{name:"電話",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-form-group",{attrs:{id:"input-tel",label:"收件人電話","label-for":"input-tel"}},[r("b-form-input",{attrs:{id:"input-tel",state:t.getValidationState(e),placeholder:"請輸入電話",required:""},model:{value:t.form.user.phone,callback:function(e){t.$set(t.form.user,"phone",e)},expression:"form.user.phone"}}),r("b-form-invalid-feedback",{attrs:{id:"input-1-live-feedback"}},[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)}),r("validation-provider",{attrs:{name:"地址",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-form-group",{attrs:{id:"input-address",label:"收件人地址","label-for":"input-address"}},[r("b-form-input",{attrs:{id:"input-address",state:t.getValidationState(e),placeholder:"請輸入地址",required:""},model:{value:t.form.user.address,callback:function(e){t.$set(t.form.user,"address",e)},expression:"form.user.address"}}),r("b-form-invalid-feedback",{attrs:{id:"input-1-live-feedback"}},[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)}),r("validation-provider",{attrs:{name:"留言",rules:"max:300"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-form-group",{attrs:{id:"input-msgs",label:"留言","label-for":"input-msg"}},[r("b-form-textarea",{attrs:{id:"input-msgs",state:t.getValidationState(e),"max-rows":"6",placeholder:"說點什麼⋯⋯",rows:"3"},model:{value:t.form.message,callback:function(e){t.$set(t.form,"message",e)},expression:"form.message"}}),r("b-form-invalid-feedback",{attrs:{id:"input-1-live-feedback"}},[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)}),r("b-button",{staticClass:"float-right",attrs:{size:"sm",type:"submit",variant:"primary"},on:{click:t.createOrder}},[t._v(" 提交 ")])],1):t._e()]}}])})],1)],1)},ne=[],oe={name:"TheCustomerShoppingCartForm",data:function(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""},show:!0}},methods:{createOrder:function(){var t=this,e=this.form;I({data:e}).then((function(e){e.data.success&&t.$router.push("/customer_checkout/".concat(e.data.orderId))}))},getValidationState:function(t){var e=t.dirty,r=t.validated,a=t.valid,s=void 0===a?null:a;return e||r?s:null}}},ie=oe,ce=Object(o["a"])(ie,se,ne,!1,null,null,null),le=ce.exports,ue={name:"TheCustomer",components:{TheCustomerNavbar:Ot,TheCustomerNavbarTabs:jt,TheCustomerSidebar:Ut,TheCustomerContent:Vt,TheCustomerFooter:Zt,TheCustomerShoppingCartContent:ae,TheCustomerShoppingCartForm:le},data:function(){return{fullPage:!0}},computed:{loadingAmount:function(){return this.$store.state.loadingAmount},isLoading:function(){return this.loadingAmount>0}},mounted:function(){this.$store.dispatch("customer/getProductsAll")}},de=ue,pe=Object(o["a"])(de,ht,bt,!1,null,null,null),me=pe.exports,fe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"views-thecustomer_checkout"}},[r("b-card",{staticClass:"my-4 justify-content-center"},[r("b-form",{on:{submit:t.payOrder}},[r("b-row",[r("b-col",[r("b-table-simple",{attrs:{"caption-top":"",hover:"",outlined:"",responsive:"",small:""}},[r("b-thead",{attrs:{"head-variant":"light"}},[r("b-tr",[r("b-th",[t._v("品名")]),r("b-th",[t._v("數量")]),r("b-th",{staticClass:"text-right mr-3",attrs:{colspan:"2"}},[t._v("單價")]),r("b-th")],1)],1),r("b-tbody",t._l(t.order.products,(function(e){return r("b-tr",{key:e.id},[r("b-td",[t._v(t._s(e.product.title))]),r("b-td",[t._v(t._s(e.qty)+" / "+t._s(e.product.unit))]),r("b-td",{staticClass:"text-right mr-3",attrs:{colspan:"2"}},[t._v(t._s(e.final_total))]),r("b-td")],1)})),1),r("b-tfoot",[r("b-tr",[r("b-td",{attrs:{colspan:"2"}},[t._v("總計：")]),r("b-td",{staticClass:"text-right mr-3",attrs:{colspan:"2"}},[t._v(t._s(t.order.total))]),r("b-td")],1)],1)],1)],1),r("b-col",[r("b-table-simple",{attrs:{"caption-top":"",hover:"",outlined:"",responsive:"",small:""}},[r("b-thead",{attrs:{"head-variant":"light"}},[r("b-tr",[r("b-th",{attrs:{colspan:"2"}},[t._v("收件人資訊")])],1)],1),r("b-tbody",[r("b-tr",[r("b-th",[t._v("Email")]),r("b-td",[t._v(t._s(t.order.user.email))])],1),r("b-tr",[r("b-th",[t._v("姓名")]),r("b-td",[t._v(t._s(t.order.user.name))])],1),r("b-tr",[r("b-th",[t._v("收件人電話")]),r("b-td",[t._v(t._s(t.order.user.tel))])],1),r("b-tr",[r("b-th",[t._v("收件人地址")]),r("b-td",[t._v(t._s(t.order.user.address))])],1),r("b-tr",[r("b-th",[t._v("付款狀態")]),r("b-td",[t.order.is_paid?r("span",{staticClass:"text-success"},[t._v("付款完成")]):r("span",[t._v("尚未付款")])])],1)],1)],1)],1)],1),!1===t.order.is_paid?r("b-button",{staticClass:"float-right",attrs:{size:"sm",variant:"outline-danger"},on:{click:t.payOrder}},[t._v(" 確認付款去 ")]):t._e()],1)],1)],1)},he=[],be={name:"TheDashboardCustomerCheckout",data:function(){return{order:{user:{}},orderId:""}},mounted:function(){this.orderId=this.$route.params.orderId,this.getOrder()},methods:{getOrder:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R(t.orderId);case 2:if(r=e.sent,r.data.success){e.next=5;break}return e.abrupt("return");case 5:return t.order=r.data.order,t.$store.commit("customer/SET_ORDER",t.order),e.abrupt("return",t.order);case 8:case"end":return e.stop()}}),e)})))()},payOrder:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L(t.orderId);case 2:if(r=e.sent,r.data.success){e.next=5;break}return e.abrupt("return");case 5:t.getOrder();case 6:case"end":return e.stop()}}),e)})))()}}},ve=be,ge=Object(o["a"])(ve,fe,he,!1,null,null,null),_e=ge.exports;a["default"].use(u["a"]);var Ce=[{path:"*",redirect:"login"},{path:"/login",name:"TheLogin",component:M},{path:"/admin",name:"TheDashboard",component:W,children:[{path:"products",name:"TheDashboardProducts",component:rt,meta:{requiresAuth:!1}},{path:"orders",name:"TheDashboardOrders",component:ct,meta:{requiresAuth:!1}},{path:"coupons",name:"TheDashboardCoupons",component:ft,meta:{requiresAuth:!1}}]},{path:"/",name:"TheCustomer",component:me,children:[{path:"",name:"TheCustomerContent",component:Vt},{path:"favor",name:"TheCustomerContent",component:Vt},{path:"/customer_carts",name:"TheCustomerShoppingCartContent",component:ae},{path:"/customer_carts_form",name:"TheCustomerShoppingCartForm",component:le},{path:"/customer_checkout/:orderId",name:"TheCustomerCheckout",component:_e}]}],xe=new u["a"]({mode:"history",base:"/",routes:Ce});xe.beforeEach((function(t,e,r){if(t.meta.requiresAuth){var a="".concat("https://vue-course-api.hexschool.io","/api/user/check");p.a.post(a).then((function(t){t.data.success?r():r({path:"/login"})}))}else r()}));var we=xe,ke=(r("a9e3"),r("b680"),r("ac1f"),r("5319"),function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,r){var a=e&&"."!==t&&(r.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return a})))}),ye=r("5f5b");a["default"].use(ye["a"]);var Te=r("7bb1"),$e=r("4c93"),Se=r("60d4");Object(Te["c"])("email",$e["a"]),Object(Te["c"])("required",$e["d"]),Object(Te["c"])("min",$e["c"]),Object(Te["c"])("max",$e["b"]),Object(Te["d"])("tw",Se),a["default"].component("ValidationProvider",Te["b"]),a["default"].component("ValidationObserver",Te["a"]);var Oe=r("c90c"),Pe=r("4524"),Ee=r("c11d"),Ae=r("0fea"),Re=r("66fa"),Le=r("7eb5"),je=r("6b4d"),De=r("8295"),Ne=r("494c"),Ie=r("4f97"),ze=r("3a9d"),Fe=r("c411"),Ue=r("afce"),qe=r("e5c7");a["default"].component("account-circle",Oe["a"]),a["default"].component("account-circle-outline",Pe["a"]),a["default"].component("flower-icon",Ee["a"]),a["default"].component("check-circle",Ae["a"]),a["default"].component("clipboard-list-outline-icon",Re["a"]),a["default"].component("close",Le["a"]),a["default"].component("cart-outline-icon",je["a"]),a["default"].component("ticket-percent",De["a"]),a["default"].component("trash-can-outline",Ne["a"]),a["default"].component("heart-outline",Ie["a"]),a["default"].component("heart",ze["a"]),a["default"].component("numeric-1-circle",Fe["a"]),a["default"].component("numeric-2-circle",Ue["a"]),a["default"].component("numeric-3-circle",qe["a"]),a["default"].use(r("2ead"));var Be=r("9062"),He=r.n(Be);r("e40d");a["default"].component("Loading",He.a);var Me=r("ce5b"),Ge=r.n(Me);r("bf40");a["default"].use(Ge.a);var Ve=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",[r("b-card-text",{staticClass:"text-center"},[t._v(" "+t._s(t.cardText)+" ")])],1)},Ye=[],Je={name:"BaseCardEmpty",props:{cardText:{type:String}}},Qe=Je,We=Object(o["a"])(Qe,Ve,Ye,!1,null,null,null),Ze=We.exports,Ke=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"components-basecard_products"}},[r("b-card",{staticClass:"base-card m-1 pt-0",attrs:{"img-src":t.item.imageUrl,"img-alt":t.item.title,"img-top":"","no-body":"",tag:"article"}},[-1!==t.favorList.indexOf(t.item.title)?r("heart",{staticClass:"base-card-favor-icon text-danger",on:{click:function(e){return t.setFavorTitle(t.item)}}}):t._e(),-1===t.favorList.indexOf(t.item.title)?r("heart-outline",{staticClass:"base-card-favor-icon text-danger",on:{click:function(e){return t.setFavorTitle(t.item)}}}):t._e(),r("b-card-body",{staticClass:"p-2"},[r("b-card-title",[r("b-link",{staticClass:"base-card-text-title text-secondary h5",attrs:{variant:"link"},on:{click:function(e){return e.stopPropagation(),t.getProduct(t.item.id)}}},[t._v(" "+t._s(t.item.title)+" ")])],1),r("b-card-text",{staticClass:"base-card-text-details text-truncate mb-1"},[t._v(" "+t._s(t.item.description)+" ")]),r("b-card-text",{staticClass:"d-flex justify-content-start align-items-center"},[r("span",{staticClass:"base-card-text-price m-1"},[t._v(" NT "+t._s(t._f("currency")(t.item.price))+" ")]),r("del",{directives:[{name:"show",rawName:"v-show",value:t.item.price!==t.item.origin_price,expression:"item.price !== item.origin_price"}],staticClass:"base-card-text-price-del text-muted m-1"},[t._v(" NT "+t._s(t._f("currency")(t.item.origin_price))+" ")])])],1),r("div",{staticClass:"base-card-btn d-flex justify-content-between m-0 p-1"},[r("a",{staticClass:"card-link",attrs:{href:"#"}},[t.status.loadingItem===t.item.id?r("b-spinner",{attrs:{label:"Spinning",small:"",variant:"danger"}}):t._e(),t.status.loadingItem!==t.item.id?r("cart-outline-icon",{staticClass:"text-danger",on:{click:function(e){return e.stopPropagation(),t.addToCart(t.item.id)}}}):t._e()],1),r("b-button",{staticClass:"ml-auto",attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.goToShoppingCart(t.item.id)}}},[t._v(" 直接購買 ")])],1)],1)],1)},Xe=[],tr={name:"BaseCardProducts",props:{item:{type:Object},favorList:{type:Array},status:{type:Object}},methods:{setFavorTitle:function(t){this.$emit("set-favor-title",t)},getProduct:function(t){this.$emit("get-product",t)},addToCart:function(t){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.$emit("add-to-cart",t),r.abrupt("return",!0);case 2:case"end":return r.stop()}}),r)})))()},goToShoppingCart:function(t){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.addToCart(t);case 2:a=r.sent,a&&e.$emit("go-to-shopping-cart");case 4:case"end":return r.stop()}}),r)})))()}}},er=tr,rr=Object(o["a"])(er,Ke,Xe,!1,null,null,null),ar=rr.exports,sr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"views-thecustomer_navbar"}},[r("b-navbar",{attrs:{toggleable:"lg",type:"light",variant:"fade"}},[r("b-button",{staticClass:"d-flex align-items-center justify-content-center",attrs:{href:t.navbarHref,variant:"link"}},[r("img",{staticClass:"d-inline-block align-top mr-2",attrs:{alt:"orchids",height:"40px",src:"https://image.flaticon.com/icons/svg/898/898143.svg",width:"40px"}}),r("span",{staticClass:"nav-title"},[t._v(t._s(t.navbarTitle))])]),t._t("default")],2)],1)},nr=[],or={name:"BaseNavbar",props:{navbarTitle:{type:String},navbarHref:{type:String}}},ir=or,cr=Object(o["a"])(ir,sr,nr,!1,null,null,null),lr=cr.exports,ur=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"mb-2"},[t._v(" 依種類搜尋 ")]),r("b-list-group",t._l(t.categories,(function(e){return r("b-list-group-item",{key:e,staticClass:"p-1",class:{active:t.sortTitle===e},attrs:{button:""},on:{click:function(r){return t.filterHandler({type:"category",value:e})}}},[r("span",{staticClass:"ml-2"},[t._v(t._s(e))])])})),1),r("hr"),r("div",{staticClass:"mb-2"},[t._v(" 依價格搜尋 ")]),r("b-list-group",[r("b-list-group-item",[r("b-form-group",t._l(t.priceRadiosOptions,(function(e){return r("b-form-radio",{key:e.value,staticClass:"m-0 pl-3",attrs:{value:e.value,name:"some-radios"},on:{change:function(r){return t.filterHandler({type:"price",low:e.low,high:e.high})}},model:{value:t.propsPriceRadiosSelected,callback:function(e){t.propsPriceRadiosSelected=e},expression:"propsPriceRadiosSelected"}},[t._v(" "+t._s(e.text)+" ")])})),1)],1)],1),r("b-button",{staticClass:"text-left pl-0 text-danger d-flex justify-content-start align-items-center",attrs:{block:"",variant:"link"},on:{click:t.removeConditions}},[r("close"),r("span",[t._v("清除篩選")])],1)],1)},dr=[],pr={name:"BaseSidebar",data:function(){return{propsPriceRadiosSelected:this.priceRadiosSelected}},props:{categories:{type:Array},priceRadiosOptions:{type:Array},priceRadiosSelected:{type:String},sortTitle:{type:String}},methods:{filterHandler:function(t){this.$emit("filter-handler",t)},removeConditions:function(){this.$emit("remove-conditions")}}},mr=pr,fr=Object(o["a"])(mr,ur,dr,!1,null,null,null),hr=fr.exports,br=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:"warning"},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" 123 ")])],1)},vr=[],gr={data:function(){return{dismissSecs:10,dismissCountDown:0,showDismissibleAlert:!1}},methods:{countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}}},_r=gr,Cr=Object(o["a"])(_r,br,vr,!1,null,null,null),xr=Cr.exports,wr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{attrs:{"aria-label":"Page navigation example"}},[r("ul",{staticClass:"pagination pagination-sm",class:t.justify},[r("li",{staticClass:"page-item",class:{disable:!t.pagination.has_pre}},[r("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.paginationHandler(t.pagination.current_page-1)}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagination.total_pages,(function(e){return r("li",{key:e,staticClass:"page-item",class:{active:t.pagination.current_page===e}},[r("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),t.paginationHandler(e)}}},[t._v(" "+t._s(e)+" ")])])})),r("li",{staticClass:"page-item",class:{disable:!t.pagination.has_next}},[r("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.paginationHandler(t.pagination.current_page+1)}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},kr=[],yr={name:"BPaginationDefault",props:{pagination:Object,justify:String},data:function(){return{}},methods:{paginationHandler:function(t){this.$emit("paginate",t)}}},Tr=yr,$r=Object(o["a"])(Tr,wr,kr,!1,null,null,null),Sr=$r.exports,Or=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Pr=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{attrs:{"aria-label":"Page navigation example"}},[r("ul",{staticClass:"pagination pagination-sm"},[r("li",{staticClass:"page-item"},[r("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),r("li",{staticClass:"page-item"},[r("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("1")])]),r("li",{staticClass:"page-item"},[r("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("2")])]),r("li",{staticClass:"page-item"},[r("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("3")])]),r("li",{staticClass:"page-item"},[r("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])])])}],Er={},Ar=Object(o["a"])(Er,Or,Pr,!1,null,null,null),Rr=Ar.exports;a["default"].component("BaseCardEmpty",Ze),a["default"].component("BaseCardProducts",ar),a["default"].component("BaseNavbar",lr),a["default"].component("BaseSidebar",hr),a["default"].component("BAlertDefault",xr),a["default"].component("BPaginationDefault",Sr),a["default"].component("BPaginationProducts",Rr);r("a4d3"),r("e01a"),r("d28b"),r("c975");a["default"].prototype.$productsFilter={ProductFilters:{rangesFilter:function(t,e){if(0===e.length)return t;var r=!0,a=!1,s=void 0;try{for(var n,o=function(){var e=n.value;t=t.filter((function(t){return t[e.type]>=e.low&&t[e.type]<=e.high}))},i=e[Symbol.iterator]();!(r=(n=i.next()).done);r=!0)o()}catch(c){a=!0,s=c}finally{try{r||null==i.return||i.return()}finally{if(a)throw s}}return t},choosesFilter:function(t,e){var r=[];if(0===e.length)r=t;else{var a=!0,s=!1,n=void 0;try{for(var o,i=function(){var e=o.value;r=r.concat(t.filter((function(t){return-1!==t[e.type].indexOf(e.value)})))},c=e[Symbol.iterator]();!(a=(o=c.next()).done);a=!0)i()}catch(l){s=!0,n=l}finally{try{a||null==c.return||c.return()}finally{if(s)throw n}}}return r}},handler:function(t,e){return this.doFilter(t,e)},doFilter:function(t,e){for(var r in e)this.ProductFilters.hasOwnProperty(r+"Filter")&&"function"===typeof this.ProductFilters[r+"Filter"]&&(t=this.ProductFilters[r+"Filter"](t,e[r]));return t}},a["default"].filter("currency",ke),a["default"].config.productionTip=!1,new a["default"]({router:we,store:C,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";var a=r("9c0c"),s=r.n(a);s.a},"9c0c":function(t,e,r){}});
//# sourceMappingURL=app.1f7d3c1d.js.map